{% macro render_history(history) %}
<table>
    <tr><th>操作</th><th>操作時刻</th><th>ID</th><th>日付</th><th>借方</th><th>金額</th><th>貸方</th><th>説明</th><th>開始</th><th>終了</th></tr>
    {% for d in history %}
    <tr>
        <td>{{ d.operation }}</td>
        <td>{{ d.operate_time.strftime('%F %X') }}</td>
        <td><a href="/transactions/{{ d.transaction_id }}">{{ d.transaction_id }}</a></td>
        <td>{{ d.date }}</td>
        <td><a href="/accounts/{{ d.debit_id }}">{{ d.debit }}</a></td>
        <td style="text-align: right;">{{ "{0:,}".format(d.amount) }}</td>
        <td><a href="/accounts/{{ d.credit_id }}">{{ d.credit }}</a></td>
        <td>{{ d.description }}</td>
        <td>{% if d.start_month is not none %}{{ d.start_month }}{% endif %}</td>
        <td>{% if d.end_month is not none %}{{ d.end_month }}{% endif %}</td>
    </tr>
    {% endfor %}
</table>
{% endmacro %}
